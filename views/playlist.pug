if playlist.playlist.length == 0
    div(style="text-align:center")
        h1(style="text-align: center") empty playlist
        span add more?
else
    - const currentMediaIndex = playlist.playlist.length - 1 - playlist.currentMediaIndex;
    each media, index in playlist.getMedias().reverse()
        - const humanIndex = playlist.playlist.length - index
        - const current = index === currentMediaIndex;
        div.playlist-entry(id=current? "playlist-current-playing" : false)
            input(type="checkbox", name=`playlist-media-${media.id}`, checked=mediaChecked(media.id))
            label(for=`playlist-media-${media.id}`)
                if index === currentMediaIndex
                    span(style="color: rgb(12, 187, 0)")
                        | > 
                span.playlist-index !{humanIndex}. 
                | !{media.displayHtml}
            div.playlist-utilities
                a(href=media.link, target="_blank") link
                button.link-button(type="button", onclick=`navigator.clipboard.writeText('${media.link}')`) copy
                a(hx-patch="/playlist/goto/" + media.id, hx-target="#diagnostics", hx-swap="afterbegin") goto

